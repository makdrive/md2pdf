# md2pdf

**Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’PDFã«å¤‰æ›ã™ã‚‹CLIãƒ„ãƒ¼ãƒ«**
Mermaidå›³è¡¨ã¨PlantUMLå›³è¡¨ã«å¯¾å¿œã—ã€ç¾ã—ã„æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã§ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªPDFã‚’ç”Ÿæˆã—ã¾ã™ã€‚

## âœ¨ ç‰¹å¾´

- ğŸ“„ **Markdown â†’ PDFå¤‰æ›**: æ¨™æº–çš„ãªMarkdownè¦ç´ ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- ğŸ“Š **å›³è¡¨å¯¾å¿œ**: Mermaidãƒ»PlantUMLå›³è¡¨ã‚’SVGå½¢å¼ã§é«˜å“è³ªå‡ºåŠ›
- ğŸ¨ **ç¾ã—ã„æ—¥æœ¬èª**: BIZ UDPGothicãƒ•ã‚©ãƒ³ãƒˆã§èª­ã¿ã‚„ã™ã„æ–‡æ›¸
- âš™ï¸ **è±Šå¯Œãªã‚ªãƒ—ã‚·ãƒ§ãƒ³**: PDFãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ãƒãƒ¼ã‚¸ãƒ³ã€ãƒ†ãƒ¼ãƒãªã©
- ğŸš€ **é«˜é€Ÿå‡¦ç†**: TypeScript + Puppeteerã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªå¤‰æ›

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å¿…è¦è¦ä»¶

- Node.js 18.0.0ä»¥ä¸Š
- Javaï¼ˆPlantUMLå›³è¡¨ä½¿ç”¨æ™‚ï¼‰

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å®Ÿè¡Œ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/makdrive/md2pdf.git
cd md2pdf

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# PlantUML.jarã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆPlantUMLå›³è¡¨ä½¿ç”¨æ™‚ã®ã¿ï¼‰
curl -L -o plantuml.jar https://github.com/plantuml/plantuml/releases/latest/download/plantuml.jar

# ãƒ“ãƒ«ãƒ‰
npm run build

# ã‚µãƒ³ãƒ—ãƒ«å®Ÿè¡Œ
npm run dev sample.md
```

ç”Ÿæˆã•ã‚ŒãŸPDFã¯ `sample.pdf` ã¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚

### PlantUMLã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

PlantUMLå›³è¡¨ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ãã ã•ã„ï¼š

#### æ–¹æ³•1: è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆæ¨å¥¨ï¼‰

```bash
# æœ€æ–°ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
curl -L -o plantuml.jar https://github.com/plantuml/plantuml/releases/latest/download/plantuml.jar

# ã¾ãŸã¯ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
curl -L -o plantuml.jar https://github.com/plantuml/plantuml/releases/download/v1.2025.3/plantuml-mit-1.2025.3.jar
```

#### æ–¹æ³•2: æ‰‹å‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

1. [PlantUML Releases](https://github.com/plantuml/plantuml/releases/latest)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. `plantuml.jar`ã¾ãŸã¯`plantuml-mit-*.jar`ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«`plantuml.jar`ã¨ã—ã¦é…ç½®

#### æ–¹æ³•3: ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹æŒ‡å®š

```bash
# ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã®jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨
npm run dev -- sample.md --plantuml-jar /path/to/your/plantuml.jar
```

**æ³¨æ„**: PlantUMLå›³è¡¨ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã€jarãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ä¸è¦ã§ã™ã€‚

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run dev <input.md>

# ãƒ“ãƒ«ãƒ‰å¾Œå®Ÿè¡Œ
node dist/cli/index.js <input.md>
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
npm run dev -- sample.md [options]

Options:
  -o, --output <file>           å‡ºåŠ›PDFãƒ•ã‚¡ã‚¤ãƒ«å
  -f, --format <format>         PDFãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ (A4, Letter, Legal)
  -m, --margin <margin>         ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ³ (ä¾‹: 20mm)
  --header <text>               ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼
  --footer <text>               ãƒšãƒ¼ã‚¸ãƒ•ãƒƒã‚¿ãƒ¼
  --mermaid-theme <theme>       Mermaidãƒ†ãƒ¼ãƒ (default, dark, forest)
  --plantuml-jar <path>         PlantUMLã®jarãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
  -h, --help                    ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
```

### ä½¿ç”¨ä¾‹

```bash
# åŸºæœ¬çš„ãªå¤‰æ›
npm run dev document.md

# å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®š
npm run dev document.md -o report.pdf

# A4ã€25mmãƒãƒ¼ã‚¸ãƒ³ã€ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã§å¤‰æ›
npm run dev document.md -f A4 -m 25mm --mermaid-theme dark

# ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼ã‚’è¿½åŠ 
npm run dev document.md --header "æŠ€è¡“ä»•æ§˜æ›¸" --footer "Page {pageNumber}"
```

## ğŸ“Š å¯¾å¿œå›³è¡¨

### Mermaidå›³è¡¨

```markdown
\`\`\`mermaid
graph LR
    A[é–‹å§‹] --> B{åˆ¤å®š}
    B -->|Yes| C[å‡¦ç†A]
    B -->|No| D[å‡¦ç†B]
    C --> E[çµ‚äº†]
    D --> E
\`\`\`
```

**å¯¾å¿œå½¢å¼**: ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã€ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã€ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã€ã‚¯ãƒ©ã‚¹å›³ãªã©

### PlantUMLå›³è¡¨

```markdown
\`\`\`plantuml
@startuml
Alice -> Bob: Hello
Bob -> Alice: Hi!
@enduml
\`\`\`
```

**å¯¾å¿œå½¢å¼**: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã€ã‚¯ãƒ©ã‚¹å›³ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å›³ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ãªã©

## ğŸ¨ ãƒ•ã‚©ãƒ³ãƒˆ

### æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆ: BIZ UDPGothic

- **ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³**: èª­ã¿ã‚„ã™ã•ã‚’é‡è¦–ã—ãŸè¨­è¨ˆ
- **é«˜å“è³ª**: Google Fontsæä¾›ã®ç„¡æ–™ãƒ•ã‚©ãƒ³ãƒˆ
- **çµ±ä¸€æ€§**: æœ¬æ–‡ãƒ»å›³è¡¨ã§åŒä¸€ãƒ•ã‚©ãƒ³ãƒˆä½¿ç”¨

### ãƒ•ã‚©ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰

```bash
# macOSã®å ´åˆ
# 1. https://fonts.google.com/specimen/BIZ+UDPGothic
# 2. "Download family"ã‚’ã‚¯ãƒªãƒƒã‚¯
# 3. .ttfãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
md2pdf/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ parsers/          # Markdownãƒ»å›³è¡¨è§£æ
â”‚   â”‚   â”œâ”€â”€ markdown.ts   # Markdownå‡¦ç†
â”‚   â”‚   â”œâ”€â”€ mermaid.ts    # Mermaidå›³è¡¨å‡¦ç†
â”‚   â”‚   â””â”€â”€ plantuml.ts   # PlantUMLå›³è¡¨å‡¦ç†
â”‚   â”œâ”€â”€ renderers/        # ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ html.ts       # HTMLç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ diagram.ts    # å›³è¡¨çµ±åˆ
â”‚   â”œâ”€â”€ generators/       # PDFç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ pdf.ts        # PDFå¤‰æ›
â”‚   â”œâ”€â”€ cli/             # CLIå‡¦ç†
â”‚   â”‚   â””â”€â”€ index.ts      # ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³
â”‚   â”œâ”€â”€ converter.ts     # ãƒ¡ã‚¤ãƒ³å‡¦ç†
â”‚   â””â”€â”€ types.ts         # å‹å®šç¾©
â”œâ”€â”€ plantuml.jar         # PlantUMLå®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ sample.md           # ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ README.md           # æœ¬ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ› ï¸ é–‹ç™º

### ãƒ“ãƒ«ãƒ‰ã¨å®Ÿè¡Œ

```bash
# TypeScriptãƒ“ãƒ«ãƒ‰
npm run build

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ï¼‰
npm run dev

# ãƒªãƒ³ãƒˆ
npm run lint

# ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰
npm run clean && npm run build
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Node.js + TypeScript**: å‹å®‰å…¨ãªé–‹ç™º
- **Puppeteer**: HTMLâ†’PDFå¤‰æ›
- **markdown-it**: Markdownè§£æ
- **Mermaid**: å›³è¡¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **Commander.js**: CLIæ§‹ç¯‰

## ğŸ“ Markdownã‚µãƒãƒ¼ãƒˆ

### åŸºæœ¬è¦ç´ 

- âœ… è¦‹å‡ºã—ï¼ˆH1-H6ï¼‰
- âœ… ãƒ†ã‚­ã‚¹ãƒˆè£…é£¾ï¼ˆ**å¤ªå­—**ã€*æ–œä½“*ã€`ã‚³ãƒ¼ãƒ‰`ï¼‰
- âœ… ãƒªã‚¹ãƒˆï¼ˆé †åºä»˜ããƒ»é †åºãªã—ï¼‰
- âœ… ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯
- âœ… å¼•ç”¨ï¼ˆ> å¼•ç”¨æ–‡ï¼‰
- âœ… è¡¨ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- âœ… ãƒªãƒ³ã‚¯

### å›³è¡¨è¦ç´ 

- âœ… Mermaidå›³è¡¨ï¼ˆ\`\`\`mermaidï¼‰
- âœ… PlantUMLå›³è¡¨ï¼ˆ\`\`\`plantumlï¼‰

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ä¸€èˆ¬çš„ãªå•é¡Œ

**Q: å›³è¡¨ãŒè¡¨ç¤ºã•ã‚Œãªã„**

- PlantUMLã®å ´åˆ:
  - JavaãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  - `plantuml.jar`ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«é…ç½®ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  - å›³è¡¨æ§‹æ–‡ãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèª

**Q: PlantUMLãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼**

- `plantuml.jar`ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«é…ç½®
- ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚’æŒ‡å®š: `--plantuml-jar /path/to/plantuml.jar`

**Q: ãƒ•ã‚©ãƒ³ãƒˆãŒå¤‰ã‚ã‚‰ãªã„**
- BIZ UDPGothicã‚’ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªï¼ˆGoogle Fontsä½¿ç”¨æ™‚ï¼‰

**Q: PDFãŒç”Ÿæˆã•ã‚Œãªã„**
- å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ›¸ãè¾¼ã¿æ¨©é™ã‚’ç¢ºèª
- å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèª

### ãƒ‡ãƒãƒƒã‚°

```bash
# è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’è¡¨ç¤º
DEBUG=1 npm run dev sample.md

# Puppeteerã®ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹åŒ–ï¼ˆé–‹ç™ºæ™‚ï¼‰
HEADLESS=false npm run dev sample.md
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

---

**md2pdf** - Beautiful PDF generation from Markdown with diagram support ğŸ¨
